<script>
	import { roomData } from '$lib/state.svelte';

	// props
	let { scaler, handleRoomClick } = $props();

	let color1101 = $state('#E1F9D6');
	let color1103 = $state('#E1F9D6');
	let color1105 = $state('#E1F9D6');

	$effect(() => {
		if (!roomData.rooms) return;
		color1101 = roomData.rooms[1101].isOccupied ? '#F0CBCB' : '#E1F9D6';
		color1103 = roomData.rooms[1103].isOccupied ? '#F0CBCB' : '#E1F9D6';
		color1105 = roomData.rooms[1205].isOccupied ? '#F0CBCB' : '#E1F9D6';
	});
</script>

<div class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2">
	<svg
		width={804 * scaler}
		height={480 * scaler}
		viewBox="0 0 804 480"
		fill="none"
		xmlns="http://www.w3.org/2000/svg"
	>
		<rect x="5.5" y="5" width="793" height="470" fill="white" />
		<path d="M41 318H102" stroke="black" stroke-width="3" />
		<path d="M41 324H102" stroke="black" stroke-width="3" />
		<path d="M41 330H102" stroke="black" stroke-width="3" />
		<path d="M41 336H102" stroke="black" stroke-width="3" />
		<path d="M41 342H102" stroke="black" stroke-width="3" />
		<path d="M41 348H102" stroke="black" stroke-width="3" />
		<path d="M41 354H102" stroke="black" stroke-width="3" />
		<path d="M41 360H102" stroke="black" stroke-width="3" />
		<path d="M41 366H102" stroke="black" stroke-width="3" />
		<path d="M41 372H102" stroke="black" stroke-width="3" />
		<path d="M41 378H102" stroke="black" stroke-width="3" />
		<path d="M41 384H102" stroke="black" stroke-width="3" />
		<path d="M41 390H102" stroke="black" stroke-width="3" />
		<path d="M41 396H102" stroke="black" stroke-width="3" />
		<path d="M41 402H102" stroke="black" stroke-width="3" />
		<path d="M41 408H102" stroke="black" stroke-width="3" />
		<path d="M41 414H102" stroke="black" stroke-width="3" />
		<path d="M41 420H102" stroke="black" stroke-width="3" />
		<path d="M41 426H102" stroke="black" stroke-width="3" />
		<path d="M41 432H102" stroke="black" stroke-width="3" />
		<path d="M41 438H102" stroke="black" stroke-width="3" />
		<!-- 1101 -->
		<rect x="545" y="281" width="255" height="194" fill={color1101} class="cursor-pointer outline-none" onkeydown={(e) => e.key === 'Enter' && handleRoomClick(1101)}  tabindex="0" role="button" onclick={() => handleRoomClick(1101)} />
		<rect x="733.5" y="191" width="61" height="98" fill="white" />
		<rect x="78" y="5" width="160" height="130" fill="#E0E0E0" />
		<!-- 1105 -->
		<rect x="163.5" y="281" width="155" height="194" fill={color1105} class="cursor-pointer outline-none" onkeydown={(e) => e.key === 'Enter' && handleRoomClick(1105)}  tabindex="0" role="button" onclick={() => handleRoomClick(1105)} />
		<!-- 1103 -->
		<rect x="318.5" y="281" width="226" height="194" fill={color1103} class="cursor-pointer outline-none" onkeydown={(e) => e.key === 'Enter' && handleRoomClick(1103)}  tabindex="0" role="button" onclick={() => handleRoomClick(1103)} />
		<rect x="182" y="135" width="53" height="65" fill="#E0E0E0" />
		<rect x="568.5" y="5" width="75" height="106" fill="#E0E0E0" />
		<rect x="568.5" y="111" width="75" height="89" fill="#E0E0E0" />
		<!-- 1104 -->
		<rect x="403" y="5" width="166" height="195" fill="#E0E0E0" />
		<!-- 1106 -->
		<rect x="237" y="5" width="166" height="195" fill="#E0E0E0" />
		<path
			d="M25 475H4.5V304.5M154 475H162M180 475H162M306.5 475H319M337 475H319M462 475H483H492.5M619 475H640H646.5M771.5 475H798.5V292.5M778.5 4.5H798.5V192M732 4.5H711M701.5 4.5H711M653.5 4.5H645M628.5 4.5H645M582.5 4.5H568.5M548 4.5H565.25H568.5M424 4.5H402.25M382 4.5H402.25M259.5 4.5H237M226.5 4.5H237M185.5 4.5H167.75H165H150M104.5 4.5H75.5M75.5 4.5H30H4.5V196V285V304.5M75.5 4.5V130.5M75.5 130.5H115M75.5 130.5V196M145.5 130.5H165H185.5M185.5 130.5V196H199.5M185.5 130.5H237M237 4.5V130.5M237 196H225M237 196H354M237 196V130.5M385 196H402.25M418 196H402.25M447.5 196H568.5M568.5 196H622H643L643.562 143L643.907 110.5M568.5 196V110.5M568.5 110.5V58.5V4.5M568.5 110.5H622H643.907M645 4.5V20M643.907 110.5L645 43.5M711 4.5V20M798.5 192H711V43.5V196H731V211.5M798.5 192V292.5M731 238.5V243M731 269.5V285M798.5 292.5H731V285M731 285H598M259.5 285H162V475M319 475V351V285M319 285H296M319 285H483M41.5 475V304.5H4.5M104.5 475V304.5M541 475V285M541 475H524.5M541 475H553M541 285H524.5M541 285H553M402.25 196V4.5"
			stroke="black"
			stroke-width="9"
		/>
		<path d="M4.5 475H799.5" stroke="black" stroke-width="3" />
		<path d="M4.5 5H799.5" stroke="black" stroke-width="3" />
		<path d="M5 61H74" stroke="black" stroke-width="3" />
		<path d="M5 67H74" stroke="black" stroke-width="3" />
		<path d="M5 73H74" stroke="black" stroke-width="3" />
		<path d="M5 79H74" stroke="black" stroke-width="3" />
		<path d="M5 85H74" stroke="black" stroke-width="3" />
		<path d="M5 91H74" stroke="black" stroke-width="3" />
		<path d="M5 97H74" stroke="black" stroke-width="3" />
		<path d="M5 103H74" stroke="black" stroke-width="3" />
		<path d="M5 109H74" stroke="black" stroke-width="3" />
		<path d="M5 115H74" stroke="black" stroke-width="3" />
		<path d="M5 121H74" stroke="black" stroke-width="3" />
		<path d="M5 127H74" stroke="black" stroke-width="3" />
		<path d="M5 133H74" stroke="black" stroke-width="3" />
		<path d="M5 139H74" stroke="black" stroke-width="3" />
		<path d="M5 145H74" stroke="black" stroke-width="3" />
		<path d="M5 151H74" stroke="black" stroke-width="3" />
		<path d="M5 157H74" stroke="black" stroke-width="3" />
		<path d="M5 163H74" stroke="black" stroke-width="3" />
		<path d="M5 169H74" stroke="black" stroke-width="3" />
		<path d="M5 175H74" stroke="black" stroke-width="3" />
		<path d="M5 181H74" stroke="black" stroke-width="3" />
		<path d="M710.5 66H798.5" stroke="black" stroke-width="3" />
		<path d="M710.5 72H798.5" stroke="black" stroke-width="3" />
		<path d="M710.5 78H798.5" stroke="black" stroke-width="3" />
		<path d="M710.5 84H798.5" stroke="black" stroke-width="3" />
		<path d="M710.5 90H798.5" stroke="black" stroke-width="3" />
		<path d="M710.5 96H798.5" stroke="black" stroke-width="3" />
		<path d="M710.5 102H798.5" stroke="black" stroke-width="3" />
		<path d="M710.5 108H798.5" stroke="black" stroke-width="3" />
		<path d="M710.5 114H798.5" stroke="black" stroke-width="3" />
		<path d="M710.5 120H798.5" stroke="black" stroke-width="3" />
		<path d="M710.5 126H798.5" stroke="black" stroke-width="3" />
		<path d="M710.5 132H798.5" stroke="black" stroke-width="3" />
		<path d="M710.5 138H798.5" stroke="black" stroke-width="3" />
		<path d="M749.5 66V138.5" stroke="black" stroke-width="3" />
		<path d="M762.5 66.5V137" stroke="black" stroke-width="3" />
		<path
			d="M733 210V238M733 274V245M733 238H788M733 238L788 195.5V238M733 238V245M788 238L733 195.5M733 245H788M733 245L788 288.5V245M788 245L733 288.5"
			stroke="black"
			stroke-width="3"
		/>
		<path
			d="M456.357 87.52V84.864H462.373V108H459.429V87.52H456.357ZM466.607 87.52V84.864H472.623V108H469.679V87.52H466.607ZM477.625 96.192C477.625 92.5227 478.222 89.664 479.417 87.616C480.611 85.5467 482.702 84.512 485.689 84.512C488.654 84.512 490.734 85.5467 491.929 87.616C493.123 89.664 493.721 92.5227 493.721 96.192C493.721 99.9253 493.123 102.827 491.929 104.896C490.734 106.965 488.654 108 485.689 108C482.702 108 480.611 106.965 479.417 104.896C478.222 102.827 477.625 99.9253 477.625 96.192ZM490.841 96.192C490.841 94.336 490.713 92.768 490.457 91.488C490.222 90.1867 489.721 89.1413 488.953 88.352C488.206 87.5627 487.118 87.168 485.689 87.168C484.238 87.168 483.129 87.5627 482.361 88.352C481.614 89.1413 481.113 90.1867 480.857 91.488C480.622 92.768 480.505 94.336 480.505 96.192C480.505 98.112 480.622 99.7227 480.857 101.024C481.113 102.325 481.614 103.371 482.361 104.16C483.129 104.949 484.238 105.344 485.689 105.344C487.118 105.344 488.206 104.949 488.953 104.16C489.721 103.371 490.222 102.325 490.457 101.024C490.713 99.7227 490.841 98.112 490.841 96.192ZM497.014 102.848V100.64L508.246 85.088H511.734V100.32H514.934V102.848H511.734V108H508.854V102.848H497.014ZM508.982 88.128L500.374 100.32H508.982V88.128Z"
			fill="black"
			class="pointer-events-none"
		/>
		<path
			d="M290.263 87.52V84.864H296.279V108H293.335V87.52H290.263ZM300.513 87.52V84.864H306.529V108H303.585V87.52H300.513ZM311.531 96.192C311.531 92.5227 312.128 89.664 313.323 87.616C314.518 85.5467 316.608 84.512 319.595 84.512C322.56 84.512 324.64 85.5467 325.835 87.616C327.03 89.664 327.627 92.5227 327.627 96.192C327.627 99.9253 327.03 102.827 325.835 104.896C324.64 106.965 322.56 108 319.595 108C316.608 108 314.518 106.965 313.323 104.896C312.128 102.827 311.531 99.9253 311.531 96.192ZM324.747 96.192C324.747 94.336 324.619 92.768 324.363 91.488C324.128 90.1867 323.627 89.1413 322.859 88.352C322.112 87.5627 321.024 87.168 319.595 87.168C318.144 87.168 317.035 87.5627 316.267 88.352C315.52 89.1413 315.019 90.1867 314.763 91.488C314.528 92.768 314.411 94.336 314.411 96.192C314.411 98.112 314.528 99.7227 314.763 101.024C315.019 102.325 315.52 103.371 316.267 104.16C317.035 104.949 318.144 105.344 319.595 105.344C321.024 105.344 322.112 104.949 322.859 104.16C323.627 103.371 324.128 102.325 324.363 101.024C324.619 99.7227 324.747 98.112 324.747 96.192ZM344.521 90.368C344.051 88 342.59 86.816 340.137 86.816C338.238 86.816 336.819 87.552 335.881 89.024C334.942 90.4747 334.483 92.8747 334.505 96.224C334.995 95.1147 335.806 94.2507 336.937 93.632C338.089 92.992 339.369 92.672 340.777 92.672C342.974 92.672 344.723 93.3547 346.025 94.72C347.347 96.0853 348.009 97.9733 348.009 100.384C348.009 101.835 347.721 103.136 347.145 104.288C346.59 105.44 345.737 106.357 344.585 107.04C343.454 107.723 342.078 108.064 340.457 108.064C338.259 108.064 336.542 107.573 335.305 106.592C334.067 105.611 333.203 104.256 332.713 102.528C332.222 100.8 331.977 98.6667 331.977 96.128C331.977 88.2987 334.707 84.384 340.169 84.384C342.259 84.384 343.902 84.9493 345.097 86.08C346.291 87.2107 346.995 88.64 347.209 90.368H344.521ZM340.169 95.136C339.251 95.136 338.387 95.328 337.577 95.712C336.766 96.0747 336.105 96.64 335.593 97.408C335.102 98.1547 334.857 99.072 334.857 100.16C334.857 101.781 335.326 103.104 336.265 104.128C337.203 105.131 338.547 105.632 340.297 105.632C341.79 105.632 342.974 105.173 343.849 104.256C344.745 103.317 345.193 102.059 345.193 100.48C345.193 98.816 344.766 97.5147 343.913 96.576C343.059 95.616 341.811 95.136 340.169 95.136Z"
			fill="black"
			class="pointer-events-none"
		/>
		<path
			d="M212.872 373.52V370.864H218.888V394H215.944V373.52H212.872ZM223.122 373.52V370.864H229.138V394H226.194V373.52H223.122ZM234.14 382.192C234.14 378.523 234.738 375.664 235.932 373.616C237.127 371.547 239.218 370.512 242.204 370.512C245.17 370.512 247.25 371.547 248.444 373.616C249.639 375.664 250.236 378.523 250.236 382.192C250.236 385.925 249.639 388.827 248.444 390.896C247.25 392.965 245.17 394 242.204 394C239.218 394 237.127 392.965 235.932 390.896C234.738 388.827 234.14 385.925 234.14 382.192ZM247.356 382.192C247.356 380.336 247.228 378.768 246.972 377.488C246.738 376.187 246.236 375.141 245.468 374.352C244.722 373.563 243.634 373.168 242.204 373.168C240.754 373.168 239.644 373.563 238.876 374.352C238.13 375.141 237.628 376.187 237.372 377.488C237.138 378.768 237.02 380.336 237.02 382.192C237.02 384.112 237.138 385.723 237.372 387.024C237.628 388.325 238.13 389.371 238.876 390.16C239.644 390.949 240.754 391.344 242.204 391.344C243.634 391.344 244.722 390.949 245.468 390.16C246.236 389.371 246.738 388.325 246.972 387.024C247.228 385.723 247.356 384.112 247.356 382.192ZM268.986 373.392H257.754V380.688C258.245 380.005 258.97 379.451 259.93 379.024C260.89 378.576 261.925 378.352 263.034 378.352C264.805 378.352 266.245 378.725 267.354 379.472C268.463 380.197 269.253 381.147 269.722 382.32C270.213 383.472 270.458 384.699 270.458 386C270.458 387.536 270.17 388.912 269.594 390.128C269.018 391.344 268.133 392.304 266.938 393.008C265.765 393.712 264.303 394.064 262.554 394.064C260.314 394.064 258.501 393.488 257.114 392.336C255.727 391.184 254.885 389.648 254.586 387.728H257.434C257.711 388.944 258.298 389.893 259.194 390.576C260.09 391.259 261.221 391.6 262.586 391.6C264.271 391.6 265.541 391.099 266.394 390.096C267.247 389.072 267.674 387.728 267.674 386.064C267.674 384.4 267.247 383.12 266.394 382.224C265.541 381.307 264.282 380.848 262.618 380.848C261.487 380.848 260.495 381.125 259.642 381.68C258.81 382.213 258.202 382.949 257.818 383.888H255.066V370.832H268.986V373.392Z"
			fill="black"
			class="pointer-events-none"
		/>
		<path
			d="M400.497 373.52V370.864H406.513V394H403.569V373.52H400.497ZM410.747 373.52V370.864H416.763V394H413.819V373.52H410.747ZM421.765 382.192C421.765 378.523 422.363 375.664 423.557 373.616C424.752 371.547 426.843 370.512 429.829 370.512C432.795 370.512 434.875 371.547 436.069 373.616C437.264 375.664 437.861 378.523 437.861 382.192C437.861 385.925 437.264 388.827 436.069 390.896C434.875 392.965 432.795 394 429.829 394C426.843 394 424.752 392.965 423.557 390.896C422.363 388.827 421.765 385.925 421.765 382.192ZM434.981 382.192C434.981 380.336 434.853 378.768 434.597 377.488C434.363 376.187 433.861 375.141 433.093 374.352C432.347 373.563 431.259 373.168 429.829 373.168C428.379 373.168 427.269 373.563 426.501 374.352C425.755 375.141 425.253 376.187 424.997 377.488C424.763 378.768 424.645 380.336 424.645 382.192C424.645 384.112 424.763 385.723 424.997 387.024C425.253 388.325 425.755 389.371 426.501 390.16C427.269 390.949 428.379 391.344 429.829 391.344C431.259 391.344 432.347 390.949 433.093 390.16C433.861 389.371 434.363 388.325 434.597 387.024C434.853 385.723 434.981 384.112 434.981 382.192ZM441.795 376.688C441.944 374.725 442.702 373.189 444.067 372.08C445.432 370.971 447.203 370.416 449.379 370.416C450.83 370.416 452.078 370.683 453.123 371.216C454.19 371.728 454.99 372.432 455.523 373.328C456.078 374.224 456.355 375.237 456.355 376.368C456.355 377.691 455.971 378.832 455.203 379.792C454.456 380.752 453.475 381.371 452.259 381.648V381.808C453.646 382.149 454.744 382.821 455.555 383.824C456.366 384.827 456.771 386.139 456.771 387.76C456.771 388.976 456.494 390.075 455.939 391.056C455.384 392.016 454.552 392.773 453.443 393.328C452.334 393.883 451 394.16 449.443 394.16C447.182 394.16 445.326 393.573 443.875 392.4C442.424 391.205 441.614 389.52 441.443 387.344H444.259C444.408 388.624 444.931 389.669 445.827 390.48C446.723 391.291 447.918 391.696 449.411 391.696C450.904 391.696 452.035 391.312 452.803 390.544C453.592 389.755 453.987 388.741 453.987 387.504C453.987 385.904 453.454 384.752 452.387 384.048C451.32 383.344 449.71 382.992 447.555 382.992H446.819V380.56H447.587C449.55 380.539 451.032 380.219 452.035 379.6C453.038 378.96 453.539 377.979 453.539 376.656C453.539 375.525 453.166 374.619 452.419 373.936C451.694 373.253 450.648 372.912 449.283 372.912C447.96 372.912 446.894 373.253 446.083 373.936C445.272 374.619 444.792 375.536 444.643 376.688H441.795Z"
			fill="black"
			class="pointer-events-none"
		/>
		<path
			d="M648.294 373.52V370.864H654.31V394H651.366V373.52H648.294ZM658.544 373.52V370.864H664.56V394H661.616V373.52H658.544ZM669.562 382.192C669.562 378.523 670.159 375.664 671.354 373.616C672.549 371.547 674.639 370.512 677.626 370.512C680.591 370.512 682.671 371.547 683.866 373.616C685.061 375.664 685.658 378.523 685.658 382.192C685.658 385.925 685.061 388.827 683.866 390.896C682.671 392.965 680.591 394 677.626 394C674.639 394 672.549 392.965 671.354 390.896C670.159 388.827 669.562 385.925 669.562 382.192ZM682.778 382.192C682.778 380.336 682.65 378.768 682.394 377.488C682.159 376.187 681.658 375.141 680.89 374.352C680.143 373.563 679.055 373.168 677.626 373.168C676.175 373.168 675.066 373.563 674.298 374.352C673.551 375.141 673.05 376.187 672.794 377.488C672.559 378.768 672.442 380.336 672.442 382.192C672.442 384.112 672.559 385.723 672.794 387.024C673.05 388.325 673.551 389.371 674.298 390.16C675.066 390.949 676.175 391.344 677.626 391.344C679.055 391.344 680.143 390.949 680.89 390.16C681.658 389.371 682.159 388.325 682.394 387.024C682.65 385.723 682.778 384.112 682.778 382.192ZM688.888 373.52V370.864H694.904V394H691.96V373.52H688.888Z"
			fill="black"
			class="pointer-events-none"
		/>
	</svg>
</div>
